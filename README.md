
# ops

ops是一款轻量级、高性能、功能强大的**内网穿透**,**异地组网**代理服务器。目前支持**tcp、udp流量转发**，可支持任何**tcp、udp**上层协议（访问内网网站、本地支付接口调试、ssh访问、远程桌面，内网dns解析等等……），此外还**支持内网http代理、内网socks5代理**、**p2p等**，并带有功能强大的web管理端。

## 快速开始

### 安装
> [releases](https://github.com/zero-rp/ops/releases)

下载对应的系统版本即可，服务端和客户端是单独的

### 服务端启动
下载完服务器压缩包后，解压，然后进入解压后的文件夹

- 默认端口

ops默认配置文件使用了80，443，8088，8025端口

80与443端口为域名解析模式默认端口

8088为web管理访问端口

8025为网桥端口，用于客户端与服务器通信

- 启动

对于linux|darwin ```sudo ops``` 或者 ```sudo ops -c ops.json```

对于windows，管理员身份运行cmd，进入程序目录 ```ops.exe``` 或者 ```ops.exe -c ops.json```, 在windows环境下可使用-install指定服务名称注册成系统服务,可携带配置参数

程序会默认读取运行目录下的ops.json文件加载配置

- 访问服务端ip:web服务端口（默认为8088）
- 使用用户名和密码登陆（默认admin/1234，正式使用一定要更改）
- 创建客户端

- 参数说明
- - -c: 配置文件路径,建议使用配置文件启动
  - -p: 网桥端口,默认8025
  - -w: web管理访问端口,默认8088
  - -h: http模式端口,默认80
  - -s: https模式端口,默认443
  - -d: 数据库保存路径,默认当前目录
  - -web_user: web管理账号
  - -web_pass: web管理密码

### 客户端连接
- 点击web管理中客户端前的+号，复制启动命令
- 执行启动命令，linux直接执行即可，windows将./opc换成opc.exe用cmd执行
- 参数说明
- - -h: 服务端ip,默认127.0.0.1
  - -p: 服务器端口,默认8025
  - -a: 通信密钥

## 使用配置文件
- 配置文件使用json格式配置
### 服务端配置字段说明
  - user: web管理登录用户,默认admin
  - pass: web登录密码,默认1234
  - bridge_port: 网桥端口,默认8025
  - web_port: web管理访问端口,默认8088
  - http_proxy_port: http模式端口,默认80
  - https_proxy_port: https模式端口,默认443
#### 例
  ```
  {
    "user": "test",
    "pass": "123456",
    "bridge_port": 8025,
    "web_port": 8088,
    "http_proxy_port": 80,
    "https_proxy_port": 443
  }
  ```
## 配置
- 客户端连接后，在web中配置对应穿透服务即可
## 功能说明
### 转发
  - 此功能是在任意A客户端打开监听端口通过服务端转发到内网B服务器发起访问,不在公网打开端口,安全性更高
  - 支持裸TCP,裸UDP,SOCKS5代理,HTTP代理转发
  - 内网1[ 客户A ] <-> 公网服务器 <-> 内网2[客户B]
